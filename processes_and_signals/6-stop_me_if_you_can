#!/usr/bin/env bash
# This script stops the 4-to_infinity_and_beyond process without using kill

# Find the PID(s) of the process
pids=$(pgrep -f "4-to_infinity_and_beyond")

# Check if the process is running
if [ -z "$pids" ]; then
    echo "Process 4-to_infinity_and_beyond is not running."
else
    # Send SIGTERM (15) to each PID via /proc
    for pid in $pids; do
        echo 15 > /proc/$pid/oom_score_adj 2>/dev/null
        echo "Process 4-to_infinity_and_beyond (PID $pid) has been signaled to terminate."
    done
fi
